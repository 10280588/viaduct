{% from "macros/pagination.htm" import render_pagination %}

{% extends "content.htm" %}

{%block content %}
<h1>Gebruiker overzicht</h1>

<form method="post" name="user_view">
	<table class="table table-striped">
		<thead>
			<tr>
				<th>E-mail adres
				<th>Voornaam
				<th>Achternaam
				<th>Student ID
				<th>Study
				<th>
			</tr>
		</thead>

		<tbody>
			{% for user in users.items %}
				<tr>
					<td>
						<label class="checkbox">
							<input type=checkbox name="select" value="{{ user.id }}" />
							{{ user.email }}
						</label>
					<td>{{ user.first_name }}
					<td>{{ user.last_name }}
					<td>{{ user.student_id }}
					<td>{{ user.education.name }}
					<td>
						<a class="btn btn-mini btn-primary" href="{{ url_for('user.view_single', user_id=user.id) }}">
							Bekijken
						</a>
						<a class="btn btn-mini" href="{{ url_for('user.edit_permissions', user_id=user.id) }}">
							Permissies aanpassen
						</a>
					<td><a href="{{ url_for('user.edit_permissions', user_id=user.id) }}">Edit Permissions</a></td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<div class="btn-group">
		<a href="/users/create" class="btn btn-success">
			<i class="icon-user"></i> Gebruiker aanmaken
		</a>

		<button type="submit" class="btn btn-danger">
			<i class="icon-remove"></i>
			Verwijderen
		</button>
	</div>

	{{ render_pagination(users, 'user.view') }}
</form>
{% endblock %}
