{% from "macros/form.htm" import render_field, render_select %}

{% extends "content.htm" %}

{% block content %}

<script src='/static/js/throttle.js'></script>
<script src='/static/js/textarea.dev.js'></script>

{% if activity.id: %}
<form method="post" class="pull-right" action="{{ url_for('activity.remove_activity', activity_id=activity.id) }}">
<button class="confirmation btn btn-danger btn-xs" type="submit"> {{ _("Verwijder activiteit") }}</button>
</form>
{% endif %}


<h1>Activiteit</h1>

<form method="post" enctype="multipart/form-data">
    {{ form.csrf_token }}

    {{ render_select(form.form_id) }}
    <small>{{ _("Je moet de pagina opnieuw laden voor resultaat") }}</small>

    <a class="show-window btn btn-success" target="_blank" href="http://{{ request.host }}/forms/create/">
      {{ _("Formulier aanmaken") }}
    </a>

        {{ render_field(form.name) }}
        {{ render_field(form.description) }}

        <div class="control-group">
            <div class="controls">
                <div class="alert alert-info">
                    <b>Tip</b>
                    Selecteer een datum en tijd door op de klok te klikken
                </div>
            </div>
        </div>

        <h3>Datum formaat: Y-m-d H:M (AM / PM)</h3>
        <div class="control-group">
            <label class="control-label">
                Start datum + tijd
            </label>

            <div class="controls form-inline">
                <input value="{{ activity.format_form_time(form.start_time.data) }}" type='datetime-local' name='start_date'>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                Eind datum + tijd
            </label>

            <div class="controls form-inline">
                <input value="{{ activity.format_form_time(form.end_time.data) }}" type='datetime-local' name='end_date'>
            </div>
        </div>

        {{ render_field(form.location) }}
        {{ render_field(form.price) }}

        {% if form.data.picture %}
            <p>Huidig plaatje:<br>
            <img src="/static/activity_pictures/{{ form.data.picture }}" style="height:200px;width:auto;">
        {% endif %}

        {{ render_field(form.picture) }}

    <div class="control-group">
        <div class="controls">
            <button type="submit" class="btn btn-primary">Opslaan</button>
        </div>
    </div>
</form>

<script src="/static/js/form.date.helper.js"></script>
{% endblock %}
